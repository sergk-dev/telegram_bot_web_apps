<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>python-telegram-bot Example WebApp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body style="background-color: #f5f5dc">
    <div style="position: absolute; margin-top: 5vh; margin-left: 5vw; height: 90vh; width: 90vw; border-radius: 5vh; background-color: var(--tg-theme-bg->
        <input type="text" id="titleInput" style="display: block; width: 80%; margin: 5vh auto; padding: 1vh;">
        <textarea id="textInput" style="display: block; width: 80%; height: 70%; margin: 5vh auto; padding: 1vh;"></textarea>
    </div>

    <script type="text/javascript">
        Telegram.WebApp.ready();
        //const inputValue = Telegram.WebApp.initData;
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const dataValue = urlParams.get('data');
        const typeValue = urlParams.get('type');
        const nameValue = urlParams.get('name');
        var titleInput = document.getElementById("textInput");
        titleInput.value = nameValue;
        var textArea = document.getElementById("textInput");
        textArea.value = dataValue;

        Telegram.WebApp.MainButton.setText('Submit').show().onClick(function () {
            const inputText = document.getElementById('textInput').value;
            const inputName = document.getElementById('titleInput').value;
            const data = JSON.stringify({type:typeValue, text: inputText, old_text:dataValue, name: });
            Telegram.WebApp.sendData(data);
            Telegram.WebApp.close();
        });
        Telegram.WebApp.expand();
    </script>
</body>
</html>
